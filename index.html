<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link rel="shortcut icon" href="data:/" type="image/x-icon" />
    <title>frontend</title>
  </head>
  <body>
    <header>
      <h2>Frontend</h2>
    </header>
    <main>
      <input id="endpoint" value="/" />
      <h3>Data laddad från backend:</h3>
      <script>
        window.addEventListener("load", async () => {
          const container = document.querySelector("tbody");
          container.innerHTML = "<tr><td>Loading...</td></tr>";
          const data = await fetch(
            "http://localhost:3007" + document.getElementById("endpoint").value,
          ).then((res) => res.json());
          container.innerHTML = "";
          for (let row of data) {
            const rowContainer = document.createElement("tr");
            for (let colName in row) {
              const columnContainer = document.createElement("td");
              columnContainer.textContent = row[colName];
              rowContainer.appendChild(columnContainer);
            }
            container.appendChild(rowContainer);
          }
        });
      </script>
      <table>
        <tbody></tbody>
      </table>
    </main>
    <footer>
      <p>
        &copy; 2026 Throwaway Frontendprojekt.
        <b><i>Upphovsrättsbrott beivras.</i></b>
      </p>
    </footer>
  </body>
</html>
