-- -----------------------------------------------------
-- PART 1: GENERATE SCHEMA
-- -----------------------------------------------------


-- MySQL Workbench Forward Engineering

-- begin attached script 'script'
-- MySQL Script generated by MySQL Workbench
-- Mon Jan 26 14:36:50 2026
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema webshop-db
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema webshop-db
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `webshop-db` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci ;
USE `webshop-db` ;

-- -----------------------------------------------------
-- Table `webshop-db`.`categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`categories` (
  `category_id` INT NOT NULL AUTO_INCREMENT,
  `category_name` VARCHAR(45) NOT NULL,
  `category_desciption` MEDIUMTEXT NULL DEFAULT NULL,
  PRIMARY KEY (`category_id`),
  UNIQUE INDEX `category_name_UNIQUE` (`category_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`customer_passwords`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`customer_passwords` (
  `password_id` INT NOT NULL,
  `password_hash` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`password_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`customers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`customers` (
  `customer_id` INT NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `password_id` INT NOT NULL,
  `first_name` VARCHAR(45) NULL DEFAULT NULL,
  `last_name` VARCHAR(45) NULL DEFAULT NULL,
  `created` DATETIME(5) NULL DEFAULT NULL,
  PRIMARY KEY (`customer_id`, `password_id`),
  UNIQUE INDEX `email_UNIQUE` (`email` ASC) VISIBLE,
  INDEX `fk_customers_password_idx` (`password_id` ASC) VISIBLE,
  CONSTRAINT `fk_customers_password_id`
    FOREIGN KEY (`password_id`)
    REFERENCES `webshop-db`.`customer_passwords` (`password_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`customer_addresses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`customer_addresses` (
  `address_id` INT NOT NULL,
  `customer_id` INT NOT NULL,
  `address` VARCHAR(45) NULL DEFAULT NULL,
  `postal_code` VARCHAR(15) NULL DEFAULT NULL,
  `country` VARCHAR(45) NULL DEFAULT NULL,
  `state_or_province` VARCHAR(45) NULL DEFAULT NULL,
  `city` VARCHAR(45) NULL DEFAULT NULL,
  `address_type` ENUM('shipping', 'billing', 'residence') NOT NULL,
  `care_of` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`address_id`),
  INDEX `fk_adresses_customer_idx` (`customer_id` ASC) VISIBLE,
  CONSTRAINT `fk_addresses_customer_id`
    FOREIGN KEY (`customer_id`)
    REFERENCES `webshop-db`.`customers` (`customer_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`orders`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`orders` (
  `order_id` INT NOT NULL,
  `customer_id` INT NOT NULL,
  `shipping_address_id` INT NOT NULL,
  `total_price` DECIMAL(10,2) NULL DEFAULT NULL,
  `order_date` DATETIME NULL DEFAULT NULL,
  `order_status` ENUM('in_progress', 'confirmed', 'sent', 'delivered') NULL DEFAULT NULL,
  PRIMARY KEY (`order_id`),
  INDEX `fk_orders_customer_idx` (`customer_id` ASC) VISIBLE,
  INDEX `fk_shipping_address_idx` (`shipping_address_id` ASC) VISIBLE,
  CONSTRAINT `fk_orders_customer_id`
    FOREIGN KEY (`customer_id`)
    REFERENCES `webshop-db`.`customers` (`customer_id`),
  CONSTRAINT `fk_shipping_address_id`
    FOREIGN KEY (`shipping_address_id`)
    REFERENCES `webshop-db`.`customer_addresses` (`address_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`products`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`products` (
  `product_id` INT NOT NULL AUTO_INCREMENT,
  `product_name` VARCHAR(45) NULL DEFAULT NULL,
  `product_code` VARCHAR(45) NULL DEFAULT NULL,
  `listing_price` DECIMAL(10,2) NOT NULL,
  `stock_quantity` INT NOT NULL,
  `product_description` MEDIUMTEXT NULL DEFAULT NULL,
  PRIMARY KEY (`product_id`),
  UNIQUE INDEX `product_code_UNIQUE` (`product_code` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`order_items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`order_items` (
  `order_item_id` INT NOT NULL,
  `order_id` INT NOT NULL,
  `product_id` INT NOT NULL,
  `product_quantity` INT NOT NULL,
  `item_price` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`order_item_id`, `order_id`),
  INDEX `fk_product_idx` (`product_id` ASC) VISIBLE,
  INDEX `fk_order_idx` (`order_id` ASC) VISIBLE,
  CONSTRAINT `fk_order_id`
    FOREIGN KEY (`order_id`)
    REFERENCES `webshop-db`.`orders` (`order_id`),
  CONSTRAINT `fk_product_id`
    FOREIGN KEY (`product_id`)
    REFERENCES `webshop-db`.`products` (`product_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`payment_methods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`payment_methods` (
  `payment_method_id` INT NOT NULL,
  `customer_id` INT NOT NULL,
  `type` ENUM('swish', 'card', 'klarna') NULL DEFAULT NULL,
  PRIMARY KEY (`payment_method_id`),
  INDEX `fk_payment_methods_customer_idx` (`customer_id` ASC) VISIBLE,
  CONSTRAINT `fk_payment_methods_customer_id`
    FOREIGN KEY (`customer_id`)
    REFERENCES `webshop-db`.`customers` (`customer_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`payments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`payments` (
  `payment_id` INT NOT NULL,
  `billing_address_id` INT NOT NULL,
  `order_id` INT NOT NULL,
  `payment_method_id` INT NOT NULL,
  `paid_amount` DECIMAL(10,2) NOT NULL,
  `payment_status` ENUM('approved', 'failed', 'pending') NULL DEFAULT NULL,
  PRIMARY KEY (`payment_id`),
  INDEX `fk_billing_address_idx` (`billing_address_id` ASC) VISIBLE,
  INDEX `fk_payments_order_idx` (`order_id` ASC) VISIBLE,
  INDEX `fk_payments_method_idx` (`payment_method_id` ASC) VISIBLE,
  CONSTRAINT `fk_billing_address_id`
    FOREIGN KEY (`billing_address_id`)
    REFERENCES `webshop-db`.`customer_addresses` (`address_id`),
  CONSTRAINT `fk_paymenst_method_id`
    FOREIGN KEY (`payment_method_id`)
    REFERENCES `webshop-db`.`payment_methods` (`payment_method_id`),
  CONSTRAINT `fk_payments_order_id`
    FOREIGN KEY (`order_id`)
    REFERENCES `webshop-db`.`orders` (`order_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`product_categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`product_categories` (
  `product_id` INT NOT NULL,
  `category_id` INT NOT NULL,
  PRIMARY KEY (`product_id`, `category_id`),
  INDEX `fk_products_category_idx` (`category_id` ASC) VISIBLE,
  INDEX `fk_categories_product_idx` (`product_id` ASC) VISIBLE,
  CONSTRAINT `fk_categories_product_id`
    FOREIGN KEY (`product_id`)
    REFERENCES `webshop-db`.`products` (`product_id`),
  CONSTRAINT `fk_products_category_id`
    FOREIGN KEY (`category_id`)
    REFERENCES `webshop-db`.`categories` (`category_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`tag_types`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`tag_types` (
  `tag_type_id` INT NOT NULL,
  `type_name` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`tag_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`tags`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`tags` (
  `tag_id` INT NOT NULL AUTO_INCREMENT,
  `tag_type_id` INT NOT NULL,
  `tag_content` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`tag_id`),
  INDEX `fk_tag_type_idx` (`tag_type_id` ASC) VISIBLE,
  CONSTRAINT `fk_tag_type_id`
    FOREIGN KEY (`tag_type_id`)
    REFERENCES `webshop-db`.`tag_types` (`tag_type_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`product_tags`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`product_tags` (
  `tag_id` INT NOT NULL,
  `product_id` INT NOT NULL,
  PRIMARY KEY (`tag_id`, `product_id`),
  INDEX `fk_tags_product_idx` (`product_id` ASC) VISIBLE,
  INDEX `fk_products_tag_idx` (`tag_id` ASC) VISIBLE,
  CONSTRAINT `fk_products_tag_id`
    FOREIGN KEY (`tag_id`)
    REFERENCES `webshop-db`.`tags` (`tag_id`),
  CONSTRAINT `fk_tags_product_id`
    FOREIGN KEY (`product_id`)
    REFERENCES `webshop-db`.`products` (`product_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`tag_type_categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`tag_type_categories` (
  `tag_type_id` INT NOT NULL,
  `category_id` INT NOT NULL,
  PRIMARY KEY (`tag_type_id`, `category_id`),
  INDEX `fk_tag_types_category_idx` (`category_id` ASC) VISIBLE,
  INDEX `fk_categories_tag_type_idx` (`tag_type_id` ASC) VISIBLE,
  CONSTRAINT `fk_categories_tag_type_id`
    FOREIGN KEY (`tag_type_id`)
    REFERENCES `webshop-db`.`tag_types` (`tag_type_id`),
  CONSTRAINT `fk_tag_types_category_id`
    FOREIGN KEY (`category_id`)
    REFERENCES `webshop-db`.`categories` (`category_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- end attached script 'script'
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema webshop-db
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema webshop-db
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `webshop-db` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci ;
USE `webshop-db` ;

-- -----------------------------------------------------
-- Table `webshop-db`.`categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`categories` (
  `category_id` INT NOT NULL AUTO_INCREMENT,
  `category_name` VARCHAR(45) NOT NULL,
  `category_description` MEDIUMTEXT NULL DEFAULT NULL,
  PRIMARY KEY (`category_id`),
  UNIQUE INDEX `category_name_UNIQUE` (`category_name` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`customers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`customers` (
  `customer_id` INT NOT NULL AUTO_INCREMENT,
  `email` VARCHAR(45) NOT NULL,
  `first_name` VARCHAR(45) NULL DEFAULT NULL,
  `last_name` VARCHAR(45) NULL DEFAULT NULL,
  `created` DATETIME NULL DEFAULT NULL,
  PRIMARY KEY (`customer_id`),
  UNIQUE INDEX `email_UNIQUE` (`email` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`customer_addresses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`customer_addresses` (
  `address_id` INT NOT NULL AUTO_INCREMENT,
  `customer_id` INT NOT NULL,
  `address` VARCHAR(45) NULL DEFAULT NULL,
  `postal_code` VARCHAR(15) NULL DEFAULT NULL,
  `country` VARCHAR(45) NULL DEFAULT NULL,
  `state_or_province` VARCHAR(45) NULL DEFAULT NULL,
  `city` VARCHAR(45) NULL DEFAULT NULL,
  `address_type` ENUM('shipping', 'billing', 'residence') NOT NULL,
  `care_of` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`address_id`),
  INDEX `fk_adresses_customer_idx` (`customer_id` ASC) VISIBLE,
  CONSTRAINT `fk_addresses_customer_id`
    FOREIGN KEY (`customer_id`)
    REFERENCES `webshop-db`.`customers` (`customer_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`customer_passwords`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`customer_passwords` (
  `customer_id` INT NOT NULL AUTO_INCREMENT,
  `password_hash` VARCHAR(255) NULL DEFAULT NULL,
  `password_updated_at` DATETIME NOT NULL,
  PRIMARY KEY (`customer_id`),
  CONSTRAINT `fk_passwords_customer_id`
    FOREIGN KEY (`customer_id`)
    REFERENCES `webshop-db`.`customers` (`customer_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`shipping_methods`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`shipping_methods` (
  `shipping_methods_id` INT NOT NULL AUTO_INCREMENT,
  `method_name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`shipping_methods_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `webshop-db`.`orders`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`orders` (
  `order_id` INT NOT NULL AUTO_INCREMENT,
  `customer_id` INT NOT NULL,
  `shipping_address_id` INT NOT NULL,
  `shipping_method_id` INT NOT NULL,
  `total_price` DECIMAL(10,2) NULL DEFAULT NULL,
  `order_date` DATETIME NULL DEFAULT NULL,
  `order_status` ENUM('created', 'paid', 'shipped', 'delivered', 'cancelled') NOT NULL,
  PRIMARY KEY (`order_id`, `customer_id`),
  INDEX `fk_orders_customer_idx` (`customer_id` ASC) VISIBLE,
  INDEX `fk_shipping_address_idx` (`shipping_address_id` ASC) VISIBLE,
  INDEX `fk_shipping_method_idx` (`shipping_method_id` ASC) VISIBLE,
  CONSTRAINT `fk_orders_customer_id`
    FOREIGN KEY (`customer_id`)
    REFERENCES `webshop-db`.`customers` (`customer_id`),
  CONSTRAINT `fk_shipping_address_id`
    FOREIGN KEY (`shipping_address_id`)
    REFERENCES `webshop-db`.`customer_addresses` (`address_id`),
  CONSTRAINT `fk_shipping_method_id`
    FOREIGN KEY (`shipping_method_id`)
    REFERENCES `webshop-db`.`shipping_methods` (`shipping_methods_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`products`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`products` (
  `product_id` INT NOT NULL AUTO_INCREMENT,
  `product_name` VARCHAR(45) NULL DEFAULT NULL,
  `product_code` VARCHAR(45) NULL DEFAULT NULL,
  `listing_price` DECIMAL(10,2) NOT NULL,
  `stock_quantity` INT NOT NULL,
  `product_description` MEDIUMTEXT NULL DEFAULT NULL,
  PRIMARY KEY (`product_id`),
  UNIQUE INDEX `product_code_UNIQUE` (`product_code` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`order_items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`order_items` (
  `order_item_id` INT NOT NULL AUTO_INCREMENT,
  `order_id` INT NOT NULL,
  `product_id` INT NOT NULL,
  `product_quantity` INT NOT NULL,
  `item_price` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`order_item_id`, `order_id`),
  INDEX `fk_product_idx` (`product_id` ASC) VISIBLE,
  INDEX `fk_order_idx` (`order_id` ASC) VISIBLE,
  CONSTRAINT `fk_order_id`
    FOREIGN KEY (`order_id`)
    REFERENCES `webshop-db`.`orders` (`order_id`),
  CONSTRAINT `fk_product_id`
    FOREIGN KEY (`product_id`)
    REFERENCES `webshop-db`.`products` (`product_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`payments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`payments` (
  `payment_id` INT NOT NULL AUTO_INCREMENT,
  `billing_address_id` INT NOT NULL,
  `order_id` INT NOT NULL,
  `payment_method` ENUM('card', 'swish', 'paypal', 'bank_transfer') NOT NULL,
  `paid_amount` DECIMAL(10,2) NOT NULL,
  `payment_status` ENUM('paid', 'refunded', 'pending') NULL DEFAULT NULL,
  PRIMARY KEY (`payment_id`),
  INDEX `fk_billing_address_idx` (`billing_address_id` ASC) VISIBLE,
  INDEX `fk_payments_order_idx` (`order_id` ASC) VISIBLE,
  CONSTRAINT `fk_billing_address_id`
    FOREIGN KEY (`billing_address_id`)
    REFERENCES `webshop-db`.`customer_addresses` (`address_id`),
  CONSTRAINT `fk_payments_order_id`
    FOREIGN KEY (`order_id`)
    REFERENCES `webshop-db`.`orders` (`order_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`product_categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`product_categories` (
  `product_id` INT NOT NULL,
  `category_id` INT NOT NULL,
  PRIMARY KEY (`product_id`, `category_id`),
  INDEX `fk_products_category_idx` (`category_id` ASC) VISIBLE,
  INDEX `fk_categories_product_idx` (`product_id` ASC) VISIBLE,
  CONSTRAINT `fk_categories_product_id`
    FOREIGN KEY (`product_id`)
    REFERENCES `webshop-db`.`products` (`product_id`),
  CONSTRAINT `fk_products_category_id`
    FOREIGN KEY (`category_id`)
    REFERENCES `webshop-db`.`categories` (`category_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`tags`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`tags` (
  `tag_id` INT NOT NULL AUTO_INCREMENT,
  `tag_type_id` INT NOT NULL,
  `tag_content` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`tag_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `webshop-db`.`product_tags`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `webshop-db`.`product_tags` (
  `tag_id` INT NOT NULL,
  `product_id` INT NOT NULL,
  PRIMARY KEY (`tag_id`, `product_id`),
  INDEX `fk_tags_product_idx` (`product_id` ASC) VISIBLE,
  INDEX `fk_products_tag_idx` (`tag_id` ASC) VISIBLE,
  CONSTRAINT `fk_products_tag_id`
    FOREIGN KEY (`tag_id`)
    REFERENCES `webshop-db`.`tags` (`tag_id`),
  CONSTRAINT `fk_tags_product_id`
    FOREIGN KEY (`product_id`)
    REFERENCES `webshop-db`.`products` (`product_id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


-- -----------------------------------------------------
-- PART 2: GENERATE DATA
-- -----------------------------------------------------

-- ------------------------------------------------------------
-- Seed / stock data for the ERD shown
-- Tables:
-- customers, customer_passwords, customer_addresses,
-- shipping_methods, products, orders, order_items, payments,
-- tags, product_tags, categories, product_categories
-- ------------------------------------------------------------

SET FOREIGN_KEY_CHECKS = 0;
START TRANSACTION;

-- -----------------------
-- customers (20)
-- -----------------------
INSERT INTO customers (customer_id, email, first_name, last_name, created) VALUES
(1,'alice.nyberg@example.com','Alice','Nyberg','2025-01-04 10:12:00'),
(2,'oscar.lind@example.com','Oscar','Lind','2025-01-06 09:41:00'),
(3,'emma.soder@example.com','Emma','Söder','2025-01-09 15:20:00'),
(4,'liam.berg@example.com','Liam','Berg','2025-01-12 13:05:00'),
(5,'mia.holm@example.com','Mia','Holm','2025-01-15 18:11:00'),
(6,'noah.ek@example.com','Noah','Ek','2025-01-18 08:55:00'),
(7,'ella.strom@example.com','Ella','Ström','2025-01-22 12:33:00'),
(8,'oliver.dahl@example.com','Oliver','Dahl','2025-01-25 17:45:00'),
(9,'ava.sand@example.com','Ava','Sand','2025-02-01 11:02:00'),
(10,'elias.karlsson@example.com','Elias','Karlsson','2025-02-04 09:10:00'),
(11,'signe.ahl@example.com','Signe','Ahl','2025-02-08 16:28:00'),
(12,'william.hed@example.com','William','Hed','2025-02-12 14:03:00'),
(13,'freya.noren@example.com','Freya','Norén','2025-02-17 19:22:00'),
(14,'arthur.bjork@example.com','Arthur','Björk','2025-02-21 10:49:00'),
(15,'lilly.falk@example.com','Lilly','Falk','2025-02-25 13:36:00'),
(16,'hugo.ryd@example.com','Hugo','Ryd','2025-03-01 08:07:00'),
(17,'isabella.west@example.com','Isabella','West','2025-03-05 20:14:00'),
(18,'leo.ost@example.com','Leo','Öst','2025-03-09 12:58:00'),
(19,'nora.blom@example.com','Nora','Blom','2025-03-13 09:26:00'),
(20,'adam.skog@example.com','Adam','Skog','2025-03-18 15:40:00');

-- -----------------------
-- customer_passwords (20)  (1:1 using customer_id)
-- -----------------------
INSERT INTO customer_passwords (customer_id, password_hash, password_updated_at) VALUES
(1,'$2y$10$A1iceHashExample0000000000000000000000000000000000000','2025-01-04 10:12:00'),
(2,'$2y$10$0scarHashExample0000000000000000000000000000000000000','2025-01-06 09:41:00'),
(3,'$2y$10$EmmaHashExample00000000000000000000000000000000000000','2025-01-09 15:20:00'),
(4,'$2y$10$LiamHashExample00000000000000000000000000000000000000','2025-01-12 13:05:00'),
(5,'$2y$10$MiaaHashExample00000000000000000000000000000000000000','2025-01-15 18:11:00'),
(6,'$2y$10$NoahHashExample00000000000000000000000000000000000000','2025-01-18 08:55:00'),
(7,'$2y$10$EllaHashExample00000000000000000000000000000000000000','2025-01-22 12:33:00'),
(8,'$2y$10$OlivHashExample00000000000000000000000000000000000000','2025-01-25 17:45:00'),
(9,'$2y$10$AvaaHashExample00000000000000000000000000000000000000','2025-02-01 11:02:00'),
(10,'$2y$10$EliaHashExample00000000000000000000000000000000000000','2025-02-04 09:10:00'),
(11,'$2y$10$SignHashExample00000000000000000000000000000000000000','2025-02-08 16:28:00'),
(12,'$2y$10$WillHashExample00000000000000000000000000000000000000','2025-02-12 14:03:00'),
(13,'$2y$10$FreyHashExample00000000000000000000000000000000000000','2025-02-17 19:22:00'),
(14,'$2y$10$ArthHashExample00000000000000000000000000000000000000','2025-02-21 10:49:00'),
(15,'$2y$10$LillHashExample00000000000000000000000000000000000000','2025-02-25 13:36:00'),
(16,'$2y$10$HugoHashExample00000000000000000000000000000000000000','2025-03-01 08:07:00'),
(17,'$2y$10$IsabHashExample00000000000000000000000000000000000000','2025-03-05 20:14:00'),
(18,'$2y$10$LeooHashExample00000000000000000000000000000000000000','2025-03-09 12:58:00'),
(19,'$2y$10$NoraHashExample00000000000000000000000000000000000000','2025-03-13 09:26:00'),
(20,'$2y$10$AdamHashExample00000000000000000000000000000000000000','2025-03-18 15:40:00');

-- -----------------------
-- customer_addresses (20) (1 per customer)
-- address_type is ENUM(...) in your schema; adjust values if needed
-- -----------------------
INSERT INTO customer_addresses
(address_id, customer_id, address, postal_code, country, state_or_province, city, address_type, care_of)
VALUES
(1,1,'Storgatan 12','11451','Sweden','Stockholm County','Stockholm','shipping','c/o Nyberg'),
(2,2,'Södra Vägen 7','41254','Sweden','Västra Götaland','Göteborg','shipping',NULL),
(3,3,'Kungsportsavenyen 33','41136','Sweden','Västra Götaland','Göteborg','shipping','c/o Söder'),
(4,4,'Drottninggatan 5','11151','Sweden','Stockholm County','Stockholm','shipping',NULL),
(5,5,'Malmövägen 18','21422','Sweden','Skåne','Malmö','shipping',NULL),
(6,6,'Lilla Torg 2','21134','Sweden','Skåne','Malmö','shipping','c/o Ek'),
(7,7,'Uppsala Gata 9','75320','Sweden','Uppsala County','Uppsala','shipping',NULL),
(8,8,'Vasagatan 44','90326','Sweden','Västerbotten','Umeå','shipping',NULL),
(9,9,'Östra Hamngatan 1','41110','Sweden','Västra Götaland','Göteborg','shipping','c/o Sand'),
(10,10,'Stora Nygatan 21','21137','Sweden','Skåne','Malmö','shipping',NULL),
(11,11,'Sveavägen 100','11350','Sweden','Stockholm County','Stockholm','shipping',NULL),
(12,12,'Järnvägsgatan 6','35230','Sweden','Kronoberg','Växjö','shipping','c/o Hed'),
(13,13,'S:t Larsgatan 3','58224','Sweden','Östergötland','Linköping','shipping',NULL),
(14,14,'Kungsgatan 11','70211','Sweden','Örebro County','Örebro','shipping',NULL),
(15,15,'Storgatan 66','97232','Sweden','Norrbotten','Luleå','shipping','c/o Falk'),
(16,16,'Åsgatan 4','83130','Sweden','Jämtland','Östersund','shipping',NULL),
(17,17,'Ringvägen 55','11861','Sweden','Stockholm County','Stockholm','shipping',NULL),
(18,18,'Nygatan 8','60234','Sweden','Östergötland','Norrköping','shipping','c/o Öst'),
(19,19,'Brogatan 19','30242','Sweden','Halland','Halmstad','shipping',NULL),
(20,20,'Parkvägen 2','90736','Sweden','Västerbotten','Umeå','shipping',NULL);

-- -----------------------
-- shipping_methods (20)
-- -----------------------
INSERT INTO shipping_methods (shipping_methods_id, method_name) VALUES
(1,'PostNord Home Delivery'),
(2,'PostNord Pickup Point'),
(3,'DHL Express'),
(4,'DHL ServicePoint'),
(5,'Bring Home'),
(6,'Bring Pickup'),
(7,'Budbee Home'),
(8,'Budbee Box'),
(9,'Instabox Locker'),
(10,'Schenker Ombud'),
(11,'Schenker Home'),
(12,'UPS Standard'),
(13,'UPS Express'),
(14,'FedEx International Priority'),
(15,'Early Bird Delivery'),
(16,'Same-day Courier'),
(17,'Economy Letter'),
(18,'Climate Smart Shipping'),
(19,'Gift Wrapped Shipping'),
(20,'Store Pickup');

-- -----------------------
-- products (20)
-- -----------------------
INSERT INTO products (product_id, product_name, product_code, listing_price, stock_quantity, product_description) VALUES
(1,'Stainless Water Bottle 750ml','WB-750-SS',199.00,120,'Double-wall bottle, keeps drinks cold/hot.'),
(2,'Wireless Earbuds','AUDIO-BUDS-01',799.00,55,'Compact earbuds with charging case.'),
(3,'Laptop Sleeve 13-inch','SLEEVE-13-GRY',249.00,200,'Padded sleeve for 13-inch laptops.'),
(4,'Mechanical Keyboard','KB-MECH-87',1299.00,40,'87-key mechanical keyboard with backlight.'),
(5,'Gaming Mouse','MOUSE-GAME-02',499.00,75,'Ergonomic mouse with adjustable DPI.'),
(6,'USB-C Charger 65W','CHG-USBC-65',349.00,180,'Fast charger with USB-C PD.'),
(7,'USB-C Cable 2m','CABLE-USBC-2M',129.00,300,'Durable braided USB-C cable.'),
(8,'Smart LED Bulb','LED-SMART-A19',149.00,260,'App-controlled dimmable LED bulb.'),
(9,'Coffee Grinder Manual','COF-GRIND-M1',399.00,65,'Manual burr grinder for fresh coffee.'),
(10,'Ceramic Mug 350ml','MUG-CER-350',99.00,500,'Classic ceramic mug, dishwasher safe.'),
(11,'Yoga Mat','FIT-YOGA-06',299.00,90,'Non-slip yoga mat with carry strap.'),
(12,'Resistance Bands Set','FIT-BAND-SET',179.00,130,'5-band set with different resistance levels.'),
(13,'Notebook A5 Dotted','NOTE-A5-DOT',79.00,400,'Dotted notebook for notes and sketches.'),
(14,'Ballpoint Pen Pack (10)','PEN-BP-10',59.00,600,'Smooth-writing ballpoint pens.'),
(15,'Desk Lamp LED','HOME-LAMP-LED',349.00,70,'Adjustable LED desk lamp with touch control.'),
(16,'Bluetooth Speaker','AUDIO-SPK-05',699.00,48,'Portable speaker with deep bass.'),
(17,'Phone Stand Aluminum','STAND-PHONE-AL',129.00,220,'Adjustable phone stand for desk.'),
(18,'Backpack 20L','BAG-20L-BLK',599.00,35,'Daily backpack with laptop compartment.'),
(19,'Travel Adapter EU/US/UK','TRAV-ADAPT-01',249.00,110,'Universal travel adapter with USB ports.'),
(20,'Noise Cancelling Headphones','AUDIO-NC-10',1999.00,22,'Over-ear ANC headphones for travel.');

-- -----------------------
-- orders (20)
-- order_status is ENUM(...) in your schema; adjust if needed
-- -----------------------
INSERT INTO orders
(order_id, customer_id, shipping_address_id, shipping_method_id, total_price, order_date, order_status)
VALUES
(1,1,1,2,448.00,'2025-04-01 10:05:00','paid'),
(2,2,2,4,1299.00,'2025-04-02 12:17:00','shipped'),
(3,3,3,9,248.00,'2025-04-03 09:44:00','delivered'),
(4,4,4,1,699.00,'2025-04-04 18:22:00','paid'),
(5,5,5,7,1098.00,'2025-04-05 14:09:00','created'),
(6,6,6,8,299.00,'2025-04-06 08:31:00','paid'),
(7,7,7,10,179.00,'2025-04-07 16:10:00','delivered'),
(8,8,8,3,799.00,'2025-04-08 11:55:00','shipped'),
(9,9,9,6,328.00,'2025-04-09 19:05:00','paid'),
(10,10,10,5,399.00,'2025-04-10 13:47:00','paid'),
(11,11,11,12,229.00,'2025-04-11 10:20:00','created'),
(12,12,12,11,1999.00,'2025-04-12 09:08:00','paid'),
(13,13,13,14,579.00,'2025-04-13 20:11:00','paid'),
(14,14,14,15,99.00,'2025-04-14 15:16:00','delivered'),
(15,15,15,16,599.00,'2025-04-15 17:42:00','shipped'),
(16,16,16,13,498.00,'2025-04-16 12:02:00','paid'),
(17,17,17,18,349.00,'2025-04-17 08:59:00','paid'),
(18,18,18,19,249.00,'2025-04-18 21:30:00','cancelled'),
(19,19,19,20,129.00,'2025-04-19 14:25:00','paid'),
(20,20,20,17,2078.00,'2025-04-20 10:40:00','shipped');

-- -----------------------
-- order_items (20)
-- -----------------------
INSERT INTO order_items
(order_item_id, order_id, product_id, product_quantity, item_price)
VALUES
(1,1,1,1,199.00),
(2,1,7,1,129.00),
(3,1,10,1,99.00),

(4,2,4,1,1299.00),

(5,3,3,1,249.00), -- (rounding differences ok; keep plausible)
(6,4,16,1,699.00),

(7,5,2,1,799.00),
(8,5,18,1,599.00),

(9,6,11,1,299.00),
(10,7,12,1,179.00),

(11,8,2,1,799.00),

(12,9,6,1,349.00),
(13,9,17,1,129.00),

(14,10,9,1,399.00),

(15,11,7,1,129.00),
(16,11,10,1,99.00),

(17,12,20,1,1999.00),

(18,13,1,1,199.00),
(19,13,15,1,349.00),
(20,14,10,1,99.00);

-- -----------------------
-- payments (20)
-- payment_method/payment_status are ENUM(...) in your schema; adjust if needed
-- -----------------------
INSERT INTO payments
(payment_id, billing_address_id, order_id, payment_method, paid_amount, payment_status)
VALUES
(1,1,1,'card',448.00,'paid'),
(2,2,2,'card',1299.00,'paid'),
(3,3,3,'swish',248.00,'paid'),
(4,4,4,'paypal',699.00,'paid'),
(5,5,5,'card',0.00,'pending'),
(6,6,6,'swish',299.00,'paid'),
(7,7,7,'card',179.00,'paid'),
(8,8,8,'card',799.00,'paid'),
(9,9,9,'swish',328.00,'paid'),
(10,10,10,'card',399.00,'paid'),
(11,11,11,'card',0.00,'pending'),
(12,12,12,'bank_transfer',1999.00,'paid'),
(13,13,13,'card',579.00,'paid'),
(14,14,14,'swish',99.00,'paid'),
(15,15,15,'card',599.00,'paid'),
(16,16,16,'paypal',498.00,'paid'),
(17,17,17,'card',349.00,'paid'),
(18,18,18,'card',0.00,'refunded'),
(19,19,19,'swish',129.00,'paid'),
(20,20,20,'card',2078.00,'paid');

-- -----------------------
-- tags (20)
-- -----------------------
INSERT INTO tags (tag_id, tag_type_id, tag_content) VALUES
(1,1,'new'),
(2,1,'bestseller'),
(3,1,'eco'),
(4,1,'limited'),
(5,1,'gift'),
(6,2,'audio'),
(7,2,'fitness'),
(8,2,'office'),
(9,2,'travel'),
(10,2,'smart-home'),
(11,3,'premium'),
(12,3,'budget'),
(13,3,'portable'),
(14,3,'wired'),
(15,3,'wireless'),
(16,4,'stock-low'),
(17,4,'stock-high'),
(18,4,'bundle'),
(19,5,'summer'),
(20,5,'winter');

-- -----------------------
-- product_tags (20)  (join)
-- -----------------------
INSERT INTO product_tags (tag_id, product_id) VALUES
(6,2),   -- audio -> earbuds
(6,16),  -- audio -> speaker
(6,20),  -- audio -> headphones
(7,11),  -- fitness -> yoga mat
(7,12),  -- fitness -> bands
(8,4),   -- office -> keyboard
(8,15),  -- office -> lamp
(8,13),  -- office -> notebook
(9,18),  -- travel -> backpack
(9,19),  -- travel -> adapter
(10,8),  -- smart-home -> bulb
(1,1),   -- new -> bottle
(2,4),   -- bestseller -> keyboard
(2,7),   -- bestseller -> cable
(3,1),   -- eco -> bottle
(5,10),  -- gift -> mug
(13,16), -- portable -> speaker
(15,2),  -- wireless -> earbuds
(15,16), -- wireless -> speaker
(11,20); -- premium -> headphones

-- -----------------------
-- categories (20)
-- -----------------------
INSERT INTO categories (category_id, category_name, category_description) VALUES
(1,'Audio','Speakers, headphones, earbuds and accessories.'),
(2,'Computers','Keyboards, sleeves, chargers and peripherals.'),
(3,'Mobile Accessories','Stands, cables, adapters and phone gear.'),
(4,'Home & Living','Lighting, mugs and everyday home items.'),
(5,'Fitness','Training accessories for home workouts.'),
(6,'Travel','Bags and travel utilities.'),
(7,'Stationery','Notebooks, pens and desk supplies.'),
(8,'Smart Home','Connected devices and bulbs.'),
(9,'Coffee & Kitchen','Coffee and kitchen-related products.'),
(10,'Bundles','Discounted product bundles.'),
(11,'Premium','High-end product selection.'),
(12,'Budget','Affordable everyday products.'),
(13,'Gifts','Gift-friendly items.'),
(14,'New Arrivals','Recently added products.'),
(15,'Best Sellers','Popular items.'),
(16,'Office Setup','Desk and work-from-home essentials.'),
(17,'Gaming','Gaming-focused gear.'),
(18,'Sustainability','Eco-focused products.'),
(19,'Portable Tech','Easy-to-carry electronics.'),
(20,'Cables & Charging','Charging bricks and cables.');

-- -----------------------
-- product_categories (20) (join)
-- -----------------------
INSERT INTO product_categories (product_id, category_id) VALUES
(2,1),
(16,1),
(20,1),
(4,2),
(3,2),
(6,2),
(7,20),
(6,20),
(17,3),
(19,3),
(15,4),
(10,4),
(11,5),
(12,5),
(18,6),
(19,6),
(13,7),
(14,7),
(8,8),
(9,9);

COMMIT;
SET FOREIGN_KEY_CHECKS = 1;
